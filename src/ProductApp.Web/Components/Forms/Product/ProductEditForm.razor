@using ProductApp.Model.Forms

<EditForm FormName="CreateEdit" Model="EditModel" OnValidSubmit="OnValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="mb-3">
        <label class="form-label">Name</label>
        <InputText class="form-control" @bind-Value="EditModel.Name" />
    </div>

    <div class="mb-3">
        <label class="form-label">Price</label>
        <InputNumber class="form-control" @bind-Value="EditModel.Price" />
    </div>

    <div class="mb-3">
        <label class="form-label">Description</label>
        <InputTextArea class="form-control" @bind-Value="EditModel.Description" />
    </div>

    <button class="btn btn-success me-2" type="submit">@(IsEditMode ? "Update" : "Create")</button>
    <button class="btn btn-secondary" type="button" @onclick="CancelEdit">Cancel</button>
</EditForm>

@code {
    [Parameter]
    public required EditProductModel EditModel { get; set; }
    
    [Parameter]
    public bool IsEditMode { get; set; }
    
    [Parameter]
    public EventCallback<EditContext> OnValidSubmit { get; set; }
    
    [Parameter]
    public EventCallback CancelEdit { get; set; }
}